require.config({paths:{echarts:"../vendor/echarts/"}}),$.fn.drawChart=function(e){var t=$(this);return charts=new $.charts(t,e),charts},$.charts=function(e,t){var r=$.extend({styles:$.charts.defaultStyles},t),a=this.getStyle(r),o=$.extend({style:a},t);this.selector=e,this.init(e,o)},$.extend($.charts,{defaults:{tree:{toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"树图",type:"tree",orient:"horizontal",rootLocation:{x:50,y:"50%"},nodePadding:25,layerPadding:100,hoverable:!1,roam:!0,symbolSize:6,itemStyle:{normal:{color:"#4883b4",label:{show:!0,position:"right",formatter:"{b}",textStyle:{color:"#000",fontSize:5}},lineStyle:{color:"#ccc",type:"broken"}},emphasis:{color:"#4883b4",label:{show:!1},borderWidth:0}},data:[]}]},pie:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:[]},toolbox:{show:!0,feature:{dataView:{show:!1,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"餅圖",type:"pie",radius:"55%",itemStyle:{normal:{label:{position:"outer",formatter:function(e){return e.percent?e.name+e.percent+"%\n":e.name+e.value}}}},data:[]}]},wordCloud:{tooltip:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"字符雲",type:"wordCloud",size:["80%","80%"],textRotation:[0,45,90,-45],textPadding:0,autoSize:{enable:!0,minSize:14},data:[]}]}},prototype:{getStyle:function(e){var t,r,a=e.styles,o=e.customStyle;for(r in a)r===o&&(t=a[r]);return t},init:function(e,t){var r=($(this),e.attr("id")),a=t,o=a.type;switch(o){case"tree":$.charts.prototype.drawTree(r,a);break;case"pie":$.charts.prototype.drawPie(r,a);break;case"wordCloud":$.charts.prototype.drawWordCloud(r,a)}},drawTree:function(e,t){var r=t;r=$.extend($.charts.defaults.tree,r||{}),require(["echarts","echarts/chart/tree"],function(t){var a=t.init(document.getElementById(e),"macarons");r.series[0].data=r.seriesData,a.setOption(r)})},drawWordCloud:function(e,t){var r=t;r=$.extend($.charts.defaults.wordCloud,r||{}),require(["echarts","echarts/chart/wordCloud"],function(t){var a,o,n=t.init(document.getElementById(e),"macarons");for(a=0;a<r.seriesData.length;a++)o=r.seriesData[a],r.style&&(o.itemStyle=r.style());r.series[0].data=r.seriesData,n.setOption(r)})},drawPie:function(e,t){var r=t;r=$.extend($.charts.defaults.pie,r||{}),require(["echarts","echarts/chart/pie","echarts/chart/funnel"],function(t){var a,o,n=t.init(document.getElementById(e),"infographic");for(a=0;a<r.seriesData.length;a++)o=r.seriesData[a],r.style&&(o.itemStyle=r.style());r.series[0].data=r.seriesData,n.setOption(r)})}},defaultStyles:{darkStyle:function(){return{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},rainbowStyle:function(){return{normal:{color:function(e){var t=["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"];return t[e.dataIndex]},textStyle:{fontFamily:"Microsoft Yahei, Arial, Verdana, sans-serif"}}}},wairoStyle:function(){return{normal:{color:function(e){var t=["#89C3EB","#83F6E8","#838BF6","#71C6D4","#7192D4","#AEDEFF","#9E773D","#EBC389","#4D7D9E","#7AAED1","#3F596B","#90CEF8"];return t[e.dataIndex]},textStyle:{fontFamily:"Microsoft Yahei, Arial, Verdana, sans-serif"}}}}},addStyle:function(e){$.extend($.charts.defaultStyles,e)}});